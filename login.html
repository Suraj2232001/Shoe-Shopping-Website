<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <script src="jquery-3.6.1.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.2.0/css/all.css">
    <link rel="stylesheet" href="style/loginstyle.css" />
    <title>Sign in</title>
  </head>
  <body>
    <div class="container">
      <div class="forms-container">
        <div class="signin-signup">
          <form class="sign-in-form">
            <h2 class="title">Sign in</h2>
            <p id="invalid" style="color: red;"></p>
            <div class="input-field">
              <i class="fas fa-user"></i>
              <input type="text" class="input" id="email" placeholder="Email" required/>
            </div>
            <div class="input-field" >
              <i class="fas fa-lock"></i>
              <input type="password" id="password" placeholder="Password" required/>
            </div>
            <!-- <input type="submit" value="Login" id="in-btn" class="btn solid" /> -->
            <button id="login-btn" type="button" onclick="LoginSect.login()">LOGIN</button>
            <p class="social-text">Or Sign in with social platforms</p>
            <div class="social-media">
              <a href="https://www.facebook.com/shoppersstopindia/" class="social-icon">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a href="https://twitter.com/shoppersstop" class="social-icon">
                <i class="fab fa-twitter"></i>
              </a>
              <a href="https://play.google.com/store/apps/details?id=shoppersstop.shoppersstop&hl=en_IN&gl=US&pli=1" class="social-icon">
                <i class="fab fa-google"></i>
              </a>
              <a href="https://in.linkedin.com/company/shoppers-stop" class="social-icon">
                <i class="fab fa-linkedin-in"></i>
              </a>
            </div>
          </form>
          <form class="sign-up-form">
            <h2 class="title">Sign up</h2>
            <p id="invalid1" style="color: red;"></p>
            <div class="input-field">
              <i class="fas fa-user"></i>
              <input id="Username" type="text" placeholder="Username" required/>
            </div>
            <div class="input-field">
              <i class="fas fa-envelope"></i>
              <input id="Email" type="email" placeholder="Email" required/>
            </div>
            <div class="input-field">
              <i class="fas fa-lock"></i>
              <input id="Password" type="password" placeholder="Password" required/>
            </div>
            <div class="input-field">
              <i class="fas fa-lock"></i>
              <input id="ConfirmPassword" type="password" placeholder="Retype-Password" required/>
            </div>
            <button id="signup-btn" type="button" onclick="SignupSect.signup()">SIGN UP</button>
            <!-- <input type="submit" class="btn" value="Sign up" /> -->
            <p class="social-text">Or Sign up with social platforms</p>
            <div class="social-media">
              <a href="https://www.facebook.com/shoppersstopindia/" class="social-icon">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a href="https://twitter.com/shoppersstop" class="social-icon">
                <i class="fab fa-twitter"></i>
              </a>
              <a href="https://play.google.com/store/apps/details?id=shoppersstop.shoppersstop&hl=en_IN&gl=US&pli=1" class="social-icon">
                <i class="fab fa-google"></i>
              </a>
              <a href="https://in.linkedin.com/company/shoppers-stop" class="social-icon">
                <i class="fab fa-linkedin-in"></i>
              </a>
            </div>
          </form>
        </div>
      </div>

      <div class="panels-container">
        <div class="panel left-panel">
          <div class="content">
            <h3>New here ?</h3>
            <p>
              Click here..... To Register.... And Explore us at SHOPPERSTOP. The Leading Branded products shop.
            </p>
            <button class="btn transparent" id="sign-up-btn">
              Sign up
            </button>
          </div>
          <img src="images/Banner2.png" class="image" alt="" />
        </div>
        <div class="panel right-panel">
          <div class="content">
            <h3>One of us ?</h3>
            <p>
              WELCOME BACK!!!!... Do enjoy your Explore... surprises awaiting for you...
            </p>
            <button class="btn transparent" id="sign-in-btn">
              Sign in
            </button>
          </div>
          <img src="images/Banner3.png" class="image" alt="" />
        </div>
      </div>
    </div>

    <script src="app.js"></script>

  <script>
      $("#login-btn").click(function(){
        var email = $("#email").val();
        var pass = $("#password").val();
        if(email=="" && pass=="")
        {
          $("#invalid").html("Kindly Fill the Details");
        }
        else if(pass=="")
        {
          $("#invalid").html("Kindly enter Password");
        }
        else if(email=="")
        {
          $("#invalid").html("Please enter your Email");
        }
        else
        {
          $.ajax({
          type:"GET", url:"http://localhost:59202/api/User_Details?email="+email+"&pass="+pass, success:(response)=>{
         if(response == null){
          $("#invalid").html("Invalid username and password");
         }
         else{
          if(response.User_Type=="admin"){
                  $("#invalid").html("Admin Login Successfull");
                  window.location.href="AdminPage.html";
                }
                else {            
                  $("#invalid").html("User Login Successfull");
                  window.location.href="index.html";
                }
         }        
        }, 
          error: (err)=>{
            alert("");
          }
        });
        } 
      });
    </script>
  
<script>
//signup
    $("#signup-btn").click(()=>{
            var username = $("#Username").val();
            // alert(username);
            var useremail = $("#Email").val();
            // alert(useremail);
            var pass = $("#Password").val();
            var cnfPass = $("#ConfirmPassword").val();
            // var userType = $("#UserType").val();
            // alert(pass);
            if(username =="" || pass=="" || useremail=="")
            {
              $("#invalid1").html("Kindly Fill all the Details.........");
            }
            else{
              if(pass == cnfPass)
              {
              $.ajax({
              type:"POST",url:"http://localhost:59202/api/User_Details",data:{"User_Name":username,"User_Email":useremail,"User_Password":pass,"User_Type":"User"},    success: (response) => {
                window.location.href="login.html";
              },
              error: (err) => {
                $("#invalid1").html("password and confirm password does not match");
                // alert("");
              }
            });
            }    
            else{
                  // $("#invalid").text("Keep Going");
                  $("#invalid1").html("password and confirm password does not match");
                  // alert("");
                }      
          }  
          });
    </script> 
  </body>
</html>